---
title: "Reliabilit√§t von Skalen"
author: "Patrick Zerrer"
toc: true
number-sections: true
highlight-style: pygments
execute: 
  warning: false
format:
  html:
    code-fold: false
    code-line-numbers: true
---

![Validieren, Bild generiert von Midjourney](Bilder/zemkipatrick_comic_style_asian_woman_in_the_foreground_undergro_3148633f-a89f-4395-b9dc-445837de505a.png)

# Das Zusammenf√ºhren der Variablen zu einem Index

Wir haben in den vorangegangenen Kapitel zur Faktorenanalyse festgestellt, dass es einen empirisch messbaren Faktor in unseren Daten gibt, welchen wir unter R√ºckgriff auf unsere theoretischen Grundlagen als *Vertrauen in gesellschaftliche Institutionen* interpretieren. Wir haben also die beiden ersten Ziele des Kapitels bereits erreicht und m√ºssen nur noch die eigentliche Indexbildung sowie das Pr√ºfen der Qualit√§t des Index vornehmen.

Falls ihr euch immer noch fragt was genau ein Index ist, k√∂nnte man etwas vereinfacht sagen, dass wir eine neue Variable (den Index) auf Grundlage der Indikatoren erstellen, welche die Informationen aus den Indikatoren m√∂glichst gut b√ºndelt. Das erleichtert uns die weitere Berechnung von statistischen Tests und Analysen und f√ºhrt damit zu einer besseren √úbersichtlichkeit und leichteren Interpretation der Ergebnisse. Wir m√ºssen dann nur noch mit einer Index-Variable weiter arbeiten statt mit 15 Indikatoren.

Entsprechend m√∂chten wir jetzt eine neue Index-Variable f√ºr das *Vertrauen in gesellschaftliche Institutionen* auf Grundlage der Indikatoren bilden.

Wir beginnen zun√§chst mit der Vorbereitung und Laden die notwendigen Pakete.

```{r Pakete}
if(!require("pacman")) {install.packages("pacman");library(pacman)}
p_load(tidyverse, ggplot2, haven, psych, psy, nFactors, htmlTable) # <1>
```

1. Laden der Pakete mit `p_load`

```{r}
theme_set(theme_classic()) # <1>
```

1. Visualisierungshintergrund festlegen

Danach laden wir die Daten aus dem Allbus.

```{r Laden der Daten}
daten = haven::read_dta("Datensatz/Allbus_2021.dta") # <1>
```

1. Laden des Datensatzes

## Teildatensatz mit den ben√∂tigten Index-Variablen

Wir greifen nat√ºrlich auf die gleiche Datengrundlage zur√ºck, welche wir auch f√ºr die Faktorenanalyse verwendet haben. Was in unserem Fall bedeutet, dass wir das *Vertrauen in gesellschaftliche Institutionen* untersuchen, entsprechend sollten wir Variablen bzw. Indikatoren ausw√§hlen, die die unterschiedlichen Bestandteile der latenten Variable abdecken.

Ganz konkret w√§hlen wir Variablen aus, die das...

-   *Vertrauen in das Gesundheitswesen* (pt01)
-   *Vertrauen in das Bundesverfassungsgericht* (pt02)
-   *Vertrauen in den Bundestag* (pt03)
-   *Vertrauen in die Stadt- oder Gemeindeverwaltung* (pt04)
-   *Vertrauen in die Katholische Kirche* (pt06)
-   *Vertrauen in die Evangelische Kirche* (pt07)
-   *Vertrauen in die Justiz* (pt08)
-   *Vertrauen in das Fernsehen* (pt09)
-   *Vertrauen in das Zeitungswesen* (pt10)
-   *Vertrauen in die Hochschulen* (pt11)
-   *Vertrauen in die Bundesregierung* (pt12)
-   *Vertrauen in die Polizei* (pt14)
-   *Vertrauen in die Politischen Parteien* (pt15)
-   *Vertrauen in die Kommission der EU* (pt19)
-   *Vertrauen in das Europ√§ische Parlament* (pt20)

... erfassen.

Wir bereiten die Daten entsprechend vor, indem wir die fehlenden Werte entfernen und die Variablen in numerische umwandeln.

```{r Teildatensatz}
allbus_vertrauen = daten %>%                                              # <1>
  select(pt01:pt20) %>%                                                   # <2>
  mutate(across(pt01:pt20, ~ as.numeric(.))) %>%                          # <3>
  mutate(across(pt01:pt20, ~ if_else(.%in% c(-9, -11, -42), NA,.))) %>%   # <4>
  na.omit()                                                               # <5>
```

1. Wir erstellen ein neues Objekt basierend auf dem Datensatz `daten`
2. Mit dem Doppelpunkt w√§hlen wir alle Variablen zwischen `pt01` bis `pt20` aus
3. Die Kombination aus `mutate` und `across` erm√∂glicht es uns die Funktion `as.numeric` in einer Zeile auf alle zuvor ausgew√§hlten Variablen anzuwenden. Die `~` gibt den Start der anzuwenden Funktion (hier `as.numeric` an), der Punkt innerhalb der Klammer der `as.numeric` Funktion dient als eine Art Platzhalter f√ºr die zuvor ausgew√§hlten Variablen
4. Wir codieren die unterschiedlichen fehlenden Werte um (aus der Allbus-Dokumentation entnommen). Hierf√ºr greifen wir auf die Funktion `if_else`zur√ºck. Dabei handelt es sich um ein Entweder-Oder-Befehl. Konkret wird zun√§chst eine Bedingung gepr√ºft und dann auf dieser Grundlage entweder Option 1 oder Option 2 ausgef√ºhrt. Der Punkt vor `%in%` dient wiederum als Platzhalter, mit dem Ausdruck `%in%` pr√ºfen wir, ob die nachfolgenden Werte (also c(-9, -11, -42)) in der jeweiligen Variable vorkommen. Hierbei handelt es sich um unsere Bedingung f√ºr den Entweder-Oder-Befehl. Wenn einer der Werte aus der gepr√ºften Variable einem der spezifizierten Werte entspricht - also unsere Bedingung erf√ºllt - wird dieser durch `NA` ersetzt. Ist die Bedingung nicht erf√ºllt, wird die andere Option ausgef√ºhrt und der bereits existierende Wert wird beibehalten.
5. Wir entfernen mit der Funktion `na.omit` fehlende Werte aus dem Datensatz


Wir bennen die ausgew√§hlten Indikatoren um, damit die Bezeichnungen der Indikatoren f√ºr uns leichter zu merken sind. 

```{r Rename}
allbus_vertrauen = allbus_vertrauen %>% 
  
  rename(Ver_Gesundheitswesen = pt01, # <1>
         Ver_BVerfG = pt02,           # <1>    
         Ver_Bundestag = pt03,        # <1> 
         Ver_Verwaltung = pt04,       # <1>
         Ver_kath_Kirche = pt06,      # <1>
         Ver_evan_Kirche = pt07,      # <1>
         Ver_Justiz = pt08,           # <1>
         Ver_TV = pt09,               # <1>
         Ver_Zeitung = pt10,          # <1>
         Ver_Uni = pt11,              # <1>
         Ver_Regierung = pt12,        # <1>
         Ver_Polizei = pt14,          # <1>
         Ver_Parteien = pt15,         # <1>
         Ver_Kom_EU = pt19,           # <1>
         Ver_EU_Par = pt20)           # <1>

htmlTable(head(allbus_vertrauen))     # <2>
```

1. Mit dem `rename` Befehl k√∂nnen wir die Variablen umbennen
2. Wir √ºberpr√ºfen kurz, ob die Umbenennung geklappt hat und lassen uns die ersten Zeilen des Datensatzes anzeigen. Hierf√ºr nutzen wir `htmlTable` f√ºr eine sch√∂nere Darstellung der Tabelle sowie `head`, um uns die ersten paar Zeilen des Datensatzes `allbus_vertrauen` anzeigen zu lassen


Wir haben nun alle Daten geladen und die Variablen entsprechend vorbereitet. Wir k√∂nnen eigentlich mit der Indexbidlung beginnen, m√ºssen uns allerdings davor noch entscheiden, welche Art von Index wir bilden m√∂chten.

## Verschiedene Arten von Indizes

Es gibt eine ganze Reihe von m√∂glichen Arten von Indizes, welche wir theoretisch berechnen k√∂nnten.

| Art des Index                       | Bildung (Beispiel)                              | Beschreibung                                                                                                                            |
|----------------------|-----------------------------|---------------------|
| Ungewichteter additivier Index      | Index = Indikator_1 + Indikator_2 + Indikator_3 | Die Auspr√§gungen der Indikatorvariablen werden addiert bzw. zu gemittelt.                                                               |
| Ungewichteter multiplikativer Index | Index = Indikator_1 \* Indikator_2 \* Indikator_3                          | Wenn ein Index Mindestauspr√§gungen auf allen Indikatorvariablen voraussetzt sollte multiplikativ zu einem Gesamtindex verkn√ºpft werden. |
| Gewichteter additivier Index        | Index = (2\*Indikator_1) + Indikator_2 + Indikator_3                       | Gewichtete additive Indizes erm√∂glichen eine differenzierte Behandlung der einzelnen Indikatoren.                                       |

Die Entscheidung, welche Art der Indexbildung gew√§hlt wird sollte vor dem Hintergrund der Daten, sowie der *latenten Variable* und deren Eigenschaften erfolgen. Beispielsweise w√ºrde es f√ºr ein Index, welcher die *Zufriedenheit mit einer Bahnreise* widerspiegelt und aus den Inidkatoren *Reisedauer*, *Service w√§hrend der Reise*, *Komfort w√§hrend der Fahrt* gebildet wird, Sinn ergeben einen Ungewichteten multiplikativen Index zu bilden, da bei einer *Reisedauer* von Null keine Reise stattgefunden hat und somit auch die anderen beiden Indikatoren nicht von Bedeutung sind.

## Berechnen eines Ungewichteten Summenindex

Wir haben bereits in Kapitel 5.2 mittels der explorativen Faktorenanalyse statistisch getestet, ob wir einen Index aus den genannten Variablen bilden k√∂nnen. Dies ist der Fall. Wir berechnen nur die einfachste Form eines Index, den ungewichteten Summenindex. Das bedeutet, dass wir die Werte pro befragter Person f√ºr die genannten Variablen aufsummieren und KEINE Gewichtungen einbauen. Eine Gewichtung w√§re bspw. wenn wir eine Variable doppelt z√§hlen w√ºrden.

Wir erstellen eine neue Variable `vertrauen_ges_inst` und summieren die Werte aller Indikatoren pro Fall (befragte Person) auf, bevor wir diese durch die Anzahl der Indikatoren teilen. Auf diese Art und Weise erhalten wir die selben Werteauspr√§gungen, wie in den Indikatoren was uns die Interpretation erleichtert.

```{r Berechung Index}
index_vertrauen = allbus_vertrauen %>% 
  mutate(vertrauen_ges_inst = (Ver_Gesundheitswesen + Ver_BVerfG + Ver_Bundestag + Ver_Verwaltung + Ver_kath_Kirche + Ver_evan_Kirche + Ver_Justiz+ Ver_TV +  Ver_Zeitung + Ver_Uni + Ver_Regierung + Ver_Polizei + Ver_Parteien + Ver_Kom_EU + Ver_EU_Par) / 15)   # <1>
htmlTable(head(index_vertrauen))   # <2>
```

1. Wir bilden mit Hilfe von `mutate` die neue Variable `vertrauen_ges_inst`, welche sich aus der Summe der Indikatoren geteilt durch die Anzahl der Indikatoren zusammensetzt.
2. Die `htmlTable` Funktion erm√∂glicht uns eine sch√∂nere Darstellung der Tabelle. Mit `head` w√§hlen wir die ersten paar F√§lle aus dem Datensatz `index_vertrauen` aus

Wir k√∂nnen uns noch die deskriptive Statistik f√ºr den Index anschauen, diese ist wichtig um den berechneten Index korrekt zu interpretieren.

```{r statistik}
summary(index_vertrauen$vertrauen_ges_inst) # <1>
```

1. Mit dem `summary` Befehl k√∂nnen wir uns die deskritpive Statistik ausgeben lassen

## Reliabilit√§t des Indizes berechnen

Bevor wir diesen Index einsetzen k√∂nnen, m√ºssen wir zun√§chst noch checken, ob die Variablen auch inhaltlich zusammenpassen. Dazu ermitteln wir Cronbach's Alpha als Ma√ü der Skalenreliabilit√§t:

```{r}
index_vertrauen %>%
  select(Ver_Gesundheitswesen:Ver_EU_Par) %>%  # <1>
  psych::alpha(check.keys=TRUE)                # <2>
```

1. Wir w√§hlen mit `select` alle Variablen zwischen `Ver_Gesundheitswesen` und `Ver_EU_Par` aus
2. Hier rufen wir das Paket `psych` auf, nutzen aus diesem die Funktion `alpha`, um Cronbach's Alpha zu berechnen

## Interpretation von Cronbach's Alpha

Zur Einordnung der erhaltenen Skalen-Reliabilit√§t, gehen wir von folgenden Cronbachs Alpha-Bereichen und ihrer Beurteilung aus:

-   Werte \<0,6: nicht akzeptabel
-   0,6 bis 0,7: akzeptabel, teilweise auch schon als grenzwertig klassifiziert
-   0,7 bis 0,8: gut, stellenweise auch nur als akzeptabel klassifiziert
-   0,8 bis 0,9: sehr gut

## Interpretation des Wirksamkeit-Indizes

Die Werte sind ein gutes Ergebnis. Die Items zeigen eine gute Inter-Item-Korrelation.

Wir k√∂nnen noch nachschauen, ob wir die Skalen-Reliabilit√§t verbessern k√∂nnen, indem wir einzelne Items herauswerfen. Denn der Output von Cronbachs Alpha gibt uns auch hilfreiche Aufschl√ºsse dar√ºber, welche Items man evtl. ausschlie√üen kann, um Cronbachs Alpha bei ungen√ºgender H√∂he noch auf ein mindestens akzeptables Ma√ü zu heben. Diese Information findet sich im Bereich "Reliability if an item is dropped":. In unserem Fall wird die reliabitlit√§ aber noch schlechter - wir k√∂nnen nichts mehr verbessern.

Entsprechend haben wir erfolgreich einen Index f√ºr die latente Variable *Vertrauen in gesellschaftliche Institutionen* gebildet. Wir haben eine theoretische Grundlage gefunden, diese empirisch anhand der Daten des Allbus mittels explorativer Faktorenanalyse gepr√ºft und einen Summenindex berechnet, dessen Qualit√§t wir mittels Cronbachs Alpha zeigen konnten.

::: callout-tip
## Wie gebe ich die Ergebnisse korrekt an?

Die Ergebnisse der Indexbildung werden meistens direkt im Text angegeben:

‚úÖ die Art des gebildeten Index (Summenindex, etc.)

‚úÖ Cronbachs Alpha

‚úÖ Enthaltene Indikatoren

Das Format ist normalerweise:

> ***Beispiel:*** Der Summenindex individuelle Identit√§t umfasst f√ºnf Indikatoren (Ziele und Befriedigung, Regeln und Verantwortung, Gef√ºhle oder Emotionen, Verst√§ndnis der Welt, individuelle Identit√§t im Allgemeinen; Œ± = 0,84).
:::

## Danksagung und Literatur

Die Struktur und Inhalt dieser Seite orientiert sich an den folgenden Arbeiten. Ich m√∂chte mich bei den Autor:innen sehr bedanken!

-   Daniela Keller [Link](https://www.youtube.com/watch?v=NFPGQcq1fO8)
-   Field, A., Miles, J., & Field, Z. (2012). Discovering statistics using R. 749-811

::: callout-note
## Literatur und Beispiele aus der Praxis

Wir empfehlen euch folgende Lehrb√ºcher, falls ihr weiterf√ºhrende Informationen braucht.

> üìñ Field, Z., Miles, J., & Field, A. (2012). Discovering statistics using R. Discovering statistics using r, 1-992. [Link](https://suche.suub.uni-bremen.de/peid=B68436977&LAN=DE&CID=7699632&index=L&Hitnr=1&dtyp=D&rtyp=a&Exemplar=1)

> üìñ D√∂ring, N., & Bortz, J. (2016). Forschungsmethoden und evaluation. Wiesbaden: Springerverlag. [Link](https://suche.suub.uni-bremen.de/peid=B77441304&LAN=DE&CID=7699632&index=L&Hitnr=1&dtyp=D&rtyp=a&Exemplar=1)

Hier findet ihr ein Beispiel aus der Forschungspraxis:

> üî¨ Zerrer, P., & Engelmann, I. (2022). Users' Political Motivations in Comment Sections on News Sites. International Journal of Communication, 16, 23. [Link](https://ijoc.org/index.php/ijoc/article/viewFile/18852/3808)
:::
